<!DOCTYPE html>
<html>
  <head>
    <title>Discrete Graph</title>
    <script src="d3.v4.min.js"></script>
    <script src="eStatE_en.js" ></script>
    <link rel="stylesheet" href="eStat.css">
  </head>

  <body> 

  <h1 style="color:#4CAF50;"> &nbsp; eStatE </h1>
<!--
  <button class="button" id="data11">eStat Main Menu</button> 
-->
  <h3 style="color:#4CAF50;"> &nbsp;Discrete Data Graphs </h3>

  <div class="btn-group" style="position:absolute; left:10px; top:120px">
    <button class="button" id="data01">Population: Large Country</button>
    <button class="button" id="data02">Life Expectancy (OECD)</button>
    <button class="button" id="data03">Population Pyramid by Age</button>
    <button class="button" id="data04">GNP per Capita (OECD)</button>
    <button class="button" id="data05">Top World Trade (2016)</button>
    <button class="button" id="data06">Obesity % of Population</button>
    <button class="button" id="data07">Temperature of Major City</button>
    <button class="button" id="data08">Top CO2 Emission Country</button>
    <button class="button" id="data09">Alcohol Consumption (OECD)</button>
    <button class="button" id="data10">Continuous Data Graphs</button>

    <p> 
      <div class="tooltip" >
        &nbsp;&nbsp;<img src="movie/LectureE1_TRLee.jpg" width="200" height="150"id="lectureE1">
        <span class="tooltiptext">Lecture by TR Lee</span>
      </div>   &nbsp; 
  </div>

  <div id="screen1" width="600" style="position:absolute; left:250px; top:20px; ">
    <form> &nbsp;
      <div class="tooltip">
        <img src="menu/v4_type.png" id="separate">
        <span class="tooltiptext">Separated Bar Graph</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/v2_type.png" id="stack">
        <span class="tooltiptext">Stacked Bar Graph</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/v3_type.png" id="ratio">
        <span class="tooltiptext">Ratio Bar Graph</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/v6_type.png" id="side">
        <span class="tooltiptext">Side Bar Graph</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/v5_type.png" id="both">
        <span class="tooltiptext">Two Sided Bar Graph</span>
      </div>   
      <p>   
    </form>

<!--   <div style="overflow-y:auto; height: 600px"> -->
   <div>
    <svg id="BarGraph" width="600" height="600"> </svg> 
   </div>

    <form name="myForm1">  
      <input type="radio" name = "type1" value="1" checked> Vertical
      <input type="radio" name = "type1" value="2" >        Horizontal <br>
    </form>

    <form name="myForm2">
      <label>(Separated Bar Graph)&nbsp;<input type="checkbox" id=freq>frequency</label> 
      &nbsp;(sorting) 
      <input type="radio" name = "type2" value="1" id="raw" checked>  raw
      <input type="radio" name = "type2" value="2" id="descend">    descending
      <input type="radio" name = "type2" value="3" id="ascend">     ascending <p>
    </form>

  </div>

  <div id="screen2" width="600" height="620" style="position:absolute; left:870px; top:20px">
    <form> &nbsp;
      <div class="tooltip">
        <img src="menu/08.png"          id="line">
        <span class="tooltiptext">Line Graph</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/pie_type.png"    id="pie">
        <span class="tooltiptext">Pie Chart</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/donut_type.png"  id="donut">
        <span class="tooltiptext">Donut Graph</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/stack2_type.png" id="band">
        <span class="tooltiptext">Band Graph</span>
      </div>   &nbsp; 
      <div class="tooltip">
        <img src="menu/0725_3.png"      id="table">
        <span class="tooltiptext">Frequency Table</span>
      </div>  
      <p>   
    </form> 

    <svg id="LineGraph" width="600" height="600"> </svg>  <br>

    <form name="myForm3">
      <label>(Band Garph)<input type="checkbox" id=mean>&nbsp;frequency</label> <br> 
      <div>
      (Line Graph: No Group)&nbsp;
      <input type="radio" name = "type3" value="1" id="raw2" checked>  raw
      <input type="radio" name = "type3" value="2" id="descend2">    descending
      <input type="radio" name = "type3" value="3" id="ascend2">     ascending <p>
      </div>
    </form>
  </div>

  <div width="600" height="600" style="position:absolute; left:20px; top:730px">
    <p>
    <table id="myTable" cellpadding="2" cellspacing="2" border="2" >  </table>
  </div>

  <script>
      var screen1 = d3.select("#screen1");
      var screen2 = d3.select("#screen2");
      var bar   = d3.select("#BarGraph");
      var chart = d3.select("#LineGraph");

      var i, j, k, temp, tempi;
      var freqMin, freqMax, numVar, rawData, checkNumeric, mainTitle, yTitle;
      var svgWidth     = 600;
      var svgHeight    = 600;
      var margin       = {top:80, bottom:100, left:90, right:100};
      var buffer       = 20;   // 우측 y선과 범례와  간격
      var bothBarGap   = 35;   // 양쪽막대의 갭
      var graphWidth   = svgWidth - margin.left - margin.right;   // 그래프 영역의 너비
      var graphHeight  = svgHeight - margin.top - margin.bottom;  // 그래프 영역의 높이

      var rowMax = 200;
      var tdvar        = new Array(rowMax);  // 2차원 배열로 나중에 정의
      var tdvarNumber  = new Array(rowMax);
      var tdvarName    = new Array(rowMax);
      var tdvalueLabel = new Array(rowMax);

      // Sorting freq and Ascend/Descend Indexing Label
      var dataR   = new Array(rowMax);
      var dataA   = new Array(rowMax);
      var dataD   = new Array(rowMax);
      var indexR  = new Array(rowMax);
      var indexA  = new Array(rowMax);
      var indexD  = new Array(rowMax);
      var vlabelR = new Array(rowMax);
      var vlabelA = new Array(rowMax);
      var vlabelD = new Array(rowMax);
 
      var dobs, dvarNumber, dvarName, ndvalue;
      var dvalueLabel  = new Array(rowMax);
      var dvar         = new Array(rowMax);
      var dataValue    = new Array(rowMax);
      var dvalueFreq   = new Array(rowMax);

      var gobs, gvarNumber, gvarName, ngvalue, ngroup;
      var gvalueLabel  = new Array(rowMax);
      var gvar         = new Array(rowMax);
      var gdataValue   = new Array(rowMax);
      var gvalueFreq   = new Array(rowMax);
 
      var currentDataSet= new Array(rowMax);
      var currentLabel  = new Array(rowMax);

      var ngroupMax  = 100;
      var nobs       = new Array(ngroupMax);
      var dataSet    = new Array(ngroupMax);
      var groupFreq  = new Array(ngroupMax);


      // 기본 버튼 칼러색 설정
      var buttonColorB = "#E0FFFF";
      var buttonColorH = "#FFE400";

      // 메뉴 칼러
      var exampleDataNo = 10
      var menuColor = new Array(exampleDataNo+1);

      var VerticalBar, HorizontalBar;
      var SeparateBar, StackBar, RatioBar, SideBar, BothBar;
      var checkFreq, checkBandFreq;
      var PieChart, DonutGraph, BandGraph, LineGraph, FreqTable;

      // 초기 그래프 자료 : 국가별 인구
      menuColorChange();
      document.getElementById("data01").style.backgroundColor = "#3e8e41"

      VerticalBar   = true;  
      HorizontalBar = false; 
      checkFreq     = false;

      mainTitle       = "Countries of Large Population (UN 2015; unit: million)";
      yTitle          = "million";
      numVar          = 2;
      tdvar[0]        = [ "Argentina", "Bangladesh", "Brazil", "Canada", "China", "Colombia", "Congo", "Egypt", "Ethiopia", "France",
                          "Germany", "India", "Indonesia", "Iran", "Iraq", "Italy", "Japan", "Kenya", "Korea",  "Mexico", 
                          "Myanmar", "Nigeria", "Pakistan", "Philippines", "Poland", "Russia", "South Africa", "Spain", "Sudan", "Tanzania", 
                          "Thailand", "Turkey", "Uganda", "Ukraine",  "United Kingdom", "USA", "Viet Nam"];
      tdvar[1]        = [43, 160, 207, 35, 1376, 48, 77, 91, 99, 64,   80, 1311, 257, 79, 36, 59, 126, 46, 50, 127,
                         53, 182, 188, 100, 38, 143, 54, 46, 40, 53,   67, 78, 39, 44,   64, 321, 93];
      tdvarNumber     = [1,2];
      tdvarName       = ["Country", "2015 (unit: million)"];
      tdvalueLabel[0] = [];
      tdvalueLabel[1] = [];
 
      dataClassify();

      // 초기그림 막대그래프
      buttonColorChange();
      SeparateBar =  true;
      document.getElementById("separate").style.backgroundColor = buttonColorH;
   
      bar.selectAll("*").remove();
      if (ngroup == 1) currentDataSet = dataSet[0];
      currentLabel = dvalueLabel;

      drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);

      // 초기그림 - 선그래프
      DonutGraph = true;
      drawPieChart(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);  
      DonutGraph  = false;     
      SeparateBar = true;       

// =================================================================
// 버튼, 라디오버튼, 체크박스 클릭
// =================================================================

      // 세로형, 가로형 라디오 버튼 클릭
      var rad = document.myForm1.type1;
      rad[0].onclick = function() { // 세로형
         VerticalBar   = true;
         HorizontalBar = false;

         bar.selectAll("*").remove();
         if (SeparateBar) {
           drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);
         }
         else if (StackBar){
           drawStackBar(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }
         else if (RatioBar){
           drawRatioBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }
         else if (SideBar){
          drawSideBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }
         else if (BothBar){
           drawBothBar(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }
      }
      rad[1].onclick = function() { // 가로형
         if (freqMin < 0) return;
         VerticalBar   = false; 
         HorizontalBar = true;
         
         bar.selectAll("*").remove();
         if (SeparateBar) {
           drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);
         }
         else if (StackBar){
           drawStackBar(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }
         else if (RatioBar){
           drawRatioBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }
         else if (SideBar){
          drawSideBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }
         else if (BothBar){
           drawBothBar(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
         }

      }

      // 분리형 막대그래프
      d3.select("#separate").on("click",function() {
         if (freqMin < 0 && HorizontalBar) return;
         buttonColorChange();
         SeparateBar =  true;
         document.getElementById("separate").style.backgroundColor = buttonColorH;
   
         bar.selectAll("*").remove();
         if (ngroup == 1) currentDataSet = dataSet[0];
         currentLabel = dvalueLabel;

         drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);
         if (ngroup == 1) {
           document.myForm2.type2.value = 1;
         }
      })

      // 막대그래프 도수표시 버튼 클릭
      d3.select("#freq").on("click",function() {
        if (SeparateBar) {
          if(this.checked) {
            checkFreq = true;
            drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
              freqMax, currentLabel, currentDataSet, dataSet, checkFreq);
          } else {
            checkFreq = false;
	    removeFreq();
          }
        }
      })

      // 그룹이 없을 경우 막대그래프 내림차순, 올림차순 버튼
      var rad2 = document.myForm2.type2;
      rad2[0].onclick = function() { // 원자료
        if (SeparateBar && ngroup == 1) {
          bar.selectAll("*").remove();
          currentDataSet = dataR;
          currentLabel   = vlabelR; 
          drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);
        }          
      }
      rad2[1].onclick = function() { // 내림차순
        if (SeparateBar && ngroup == 1) {
          bar.selectAll("*").remove();
          currentDataSet = dataD;
          currentLabel   = vlabelD;
          drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);
        }         
      }
      rad2[2].onclick = function() { // 올림차순
         if (SeparateBar &&ngroup == 1) {
          bar.selectAll("*").remove();
          currentDataSet = dataA;
          currentLabel   = vlabelA;
          drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);
        }        
      }

      // 쌓는형 버튼 클릭
      d3.select("#stack").on("click",function() {
         if (freqMin < 0) return;
         if (ngroup == 1) return;
         buttonColorChange();
         StackBar    = true
         document.getElementById("stack").style.backgroundColor    = buttonColorH;
 
         bar.selectAll("*").remove();
         drawStackBar(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
      })

      // 비율형 버튼 클릭
      d3.select("#ratio").on("click",function() {
         if (freqMin < 0) return;
         if (ngroup == 1) return;
         buttonColorChange();
         RatioBar    = true;
         document.getElementById("ratio").style.backgroundColor    = buttonColorH;
 
         bar.selectAll("*").remove();
         drawRatioBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
      })

      // 나란형 막대그래프
      d3.select("#side").on("click",function() {
         if (freqMin < 0) return;
         if (ngroup == 1) return;
         buttonColorChange();
         SideBar     = true;
         document.getElementById("side").style.backgroundColor     = buttonColorH;
 
         bar.selectAll("*").remove();
         drawSideBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
      })

      // 양쪽형 버튼 클릭
      d3.select("#both").on("click",function() {
        if (freqMin < 0) return;
        if (ngroup == 1) return;
        if (ngroup == 2) {
          buttonColorChange();
          BothBar     = true;
          document.getElementById("both").style.backgroundColor     = buttonColorH;
  
          bar.selectAll("*").remove();
          drawBothBar(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
        }
      })

      // 원그래프 버튼 클릭
      d3.select("#pie").on("click",function() {
         document.getElementById("mean").checked = false;
         if (freqMin < 0) return;
         buttonColorChange();
         PieChart    = true;
         document.getElementById("pie").style.backgroundColor      = buttonColorH;

         chart.selectAll("*").remove();
 	 drawPieChart(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);         
      })

      // 도넛그래프 버튼 클릭
      d3.select("#donut").on("click",function() {
         document.getElementById("mean").checked = false;
         if (freqMin < 0) return;
         buttonColorChange();
         DonutGraph  = true;
         document.getElementById("donut").style.backgroundColor      = buttonColorH;

         chart.selectAll("*").remove();
         drawPieChart(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet) 

      })

      // 띠그래프 버튼 클릭
      d3.select("#band").on("click",function() {
         document.getElementById("mean").checked = false;
         if (freqMin < 0) return;
         buttonColorChange();
         BandGraph   = true;
         document.getElementById("band").style.backgroundColor     = buttonColorH;

         chart.selectAll("*").remove();
         drawBandGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
      })

     // 띠그래프 도수표시 버튼 클릭
      d3.select("#mean").on("click",function() {
        if (!BandGraph) return;
        if(this.checked) {
          if (BandGraph) {
            checkBandFreq = true;
            chart.selectAll("*").remove();
            drawBandGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
          }
        } else {
            checkBandFreq = false;
	    removeBandFreq();
          }
      })

      // 꺽은선그래프 클릭
      d3.select("#line").on("click",function() {
         document.getElementById("mean").checked = false;
         buttonColorChange();
         LineGraph   = true;
         document.getElementById("line").style.backgroundColor     = buttonColorH;
 
         chart.selectAll("*").remove();
         currentLabel = dvalueLabel;
         drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
         if (ngroup == 1) {
           document.myForm3.type3.value = 1;
         }
      })

      // 그룹이 없을 경우 꺽은선그래프 내림차순, 올림차순 버튼
      var rad3 = document.myForm3.type3;
      rad3[0].onclick = function() { // 원자료
       if (LineGraph && ngroup == 1) {
          chart.selectAll("*").remove();
          currentDataSet = dataR;
          currentLabel = vlabelR;
//          drawTitle(ngroup, gvarNumber, gvarName, dvarNumber, dvarName);
          drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
       }      
      }
      rad3[1].onclick = function() { // 내림차순
        if (LineGraph && ngroup == 1) {
          chart.selectAll("*").remove();
          currentDataSet = dataD;
          currentLabel = vlabelD;
          drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        }      
      }
      rad3[2].onclick = function() { // 올림차순
        if (LineGraph && ngroup == 1) {
          chart.selectAll("*").remove();
          currentDataSet = dataA;
          currentLabel = vlabelA;
//          drawTitle(ngroup, gvarNumber, gvarName, dvarNumber, dvarName);
          drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        }
      }

      // 도수분포표 버튼 클릭
      d3.select("#table").on("click",function() {
         document.getElementById("mean").checked = false;
         buttonColorChange();
         FreqTable   = true;
         document.getElementById("table").style.backgroundColor     = buttonColorH;

         ngvalue = ngroup;
         freqTable(numVar, tdvarNumber, ndvalue, dvarName, dataValue, dvalueLabel, ngroup, gvarName, gvalueLabel);
      })

      // data type : 국가별 인구 두변수 요약자료 -------------------------------------------
      d3.select("#data01").on("click",function() {
        menuColorChange();
        document.getElementById("data01").style.backgroundColor = "#3e8e41"

        mainTitle       = "Countries of Large Population (UN 2015)";
        yTitle          = "million";
        numVar          = 2;
        tdvar[0]        = [ "Argentina", "Bangladesh", "Brazil", "Canada", "China", "Colombia", "Congo", "Egypt", "Ethiopia", "France",
                            "Germany", "India", "Indonesia", "Iran", "Iraq", "Italy", "Japan", "Kenya", "Korea",  "Mexico", 
                            "Myanmar", "Nigeria", "Pakistan", "Philippines", "Poland", "Russia", "South Africa", "Spain", "Sudan", "Tanzania", 
                            "Thailand", "Turkey", "Uganda", "Ukraine",  "United Kingdom", "USA", "Viet Nam"];
        tdvar[1]        = [43, 160, 207, 35, 1376, 48, 77, 91, 99, 64,   80, 1311, 257, 79, 36, 59, 126, 46, 50, 127,
                           53, 182, 188, 100, 38, 143, 54, 46, 40, 53,   67, 78, 39, 44,   64, 321, 93];
        tdvarNumber     = [1,2];
        tdvarName       = ["Country", "2015 (unit: million)"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];

        dataClassify();

        // 분리형 막대
        bar.selectAll("*").remove();
//        screen2.selectAll("*").remove();
        VerticalBar   = true;  rad[0].checked = true;
        HorizontalBar = false; rad[1].checked = false;

        buttonColorChange();
        SeparateBar =  true;
        document.getElementById("separate").style.backgroundColor = buttonColorH;
        if (ngroup == 1) currentDataSet = dataSet[0];
        currentLabel = dvalueLabel;
        drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);

        // 원그래프
        chart.selectAll("*").remove();
        DonutGraph = true;
 	drawPieChart(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);  
        DonutGraph  = false;     
        SeparateBar = true;       
      })

      // data type : Life Expectancy -------------------------------------------
      d3.select("#data02").on("click",function() {
        menuColorChange();
        document.getElementById("data02").style.backgroundColor = "#3e8e41"

        mainTitle       = "Life Expectancy at Birth (OECD 2015)";
        yTitle          = "Age";
        numVar          = 3;
        tdvar[0]        = ["Australia", "Austria", "Belgium", "Canada", "Chile", "Czech Republic", "Denmark", "Estonia", "Finland", "France",
                           "Germany", "Greece", "Hungary", "Iceland", "Ireland", "Israel", "Italy", "Japan", "Korea", "Latvia", 
                           "Luxembourg", "Mexico", "Netherlands", "New Zealand", "Norway", "Poland", "Portugal", "Slovakia", "Slovenia", "Spain",
                           "Sweden", "Switzerland", "Turkey", "United Kingdom", "USA"];
        tdvar[1]        = [79.9, 78.5, 78.0, 79.7, 78.1, 75.4, 78.0, 71.6, 77.6, 78.8,  78.2, 77.6, 71.2, 80.7, 78.4, 80.2, 80.3, 80.0, 78.0, 68.9,
                           72.9, 74.0, 79.4, 79.7, 79.2, 73.1, 77.4, 72.2, 76.9, 79.4,  80.1, 80.4, 71.5, 78.5, 76.5];
        tdvar[2]        = [84.3, 83.6, 83.0, 83.8, 84.1, 81.3, 81.9, 81.1, 83.4, 84.9,  83.1, 83.6, 78.5, 83.8, 82.7, 83.8, 85.2, 86.5, 84.6, 78.7,
                           77.5, 78.9, 83.1, 83.4, 83.4, 81.1, 83.5, 79.7, 83.1, 85.1,  83.7, 84.7, 78.1, 82.4, 81.3];
        tdvarNumber     = [1,2,3];
        tdvarName       = ["Country", "Male", "Female"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];
        tdvalueLabel[2] = [];
        dataClassify();

        dataClassify();

        // 나란형 막대
        bar.selectAll("*").remove();
        VerticalBar   = false; rad[0].checked = false;
        HorizontalBar = true;  rad[1].checked = true;
        buttonColorChange();
        SideBar     = true;
        document.getElementById("side").style.backgroundColor     = buttonColorH;
        drawSideBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);

        // 꺽은선 그래프
        chart.selectAll("*").remove();
        LineGraph = true;
        drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        LineGraph   = false;  
        SideBar     = true;       

      })

      // data type : 연령대별 남녀 인구 (단위 만명) -------------------------------------------
      d3.select("#data03").on("click",function() {
        menuColorChange();
        document.getElementById("data03").style.backgroundColor = "#3e8e41"

        mainTitle       = "Population Pyramid (Korea 2015)";
        yTitle          = "unit 10,000";
        numVar          = 3;
        tdvar[0]        = [" 0~ 4"," 5~ 9","10~14","15~19","20~24","25~29","30~34","35~39","40~44","45~49","50~04","55~59","60~64","65~69","70~74","75~79","80~84","85세이상"];
//        tdvar[1]        = [ 13, 28, 55, 79, 102,  134, 192, 209, 215, 214,  193, 185, 158, 181, 166,  126, 116, 115, ];
        tdvar[1]        = [115, 116, 126, 166, 181, 158, 185, 193, 214, 215, 209, 192, 134, 102, 79, 55, 28, 13];
//        tdvar[2]        = [ 39, 54, 80, 97, 110,  141, 194, 205, 212, 207,  186, 176, 145, 158, 151,  116, 109, 109,];
        tdvar[2]        = [109, 109, 116, 151, 158, 145, 176, 186, 207, 212, 205, 194, 141, 110, 97, 80, 54, 39];
        tdvarNumber     = [1,2,3];
        tdvarName       = ["Age","Male","Female"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];
        tdvalueLabel[2] = [];
        dataClassify();

        // 양쪽형 막대그래프
        bar.selectAll("*").remove();
        VerticalBar   = false; rad[0].checked = false;
        HorizontalBar = true;  rad[1].checked = true;
        buttonColorChange();
        BothBar     = true;
        document.getElementById("both").style.backgroundColor = buttonColorH; 

        drawBothBar(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);
        graphWidth   = svgWidth - margin.left - margin.right;   // 그래프 영역의 너비
        graphHeight  = svgHeight - margin.top - margin.bottom;  // 그래프 영역의 높이

        // 꺽은선 그래프
        chart.selectAll("*").remove();
        LineGraph = true;
        drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        LineGraph   = false;     
        BothBar = true;       

      })

      // data type : GNP/person -------------------------------------------
      d3.select("#data04").on("click",function() {
        menuColorChange();
        document.getElementById("data04").style.backgroundColor = "#3e8e41"

        mainTitle       = "GNP per Capita (OECD)";
        yTitle          = "US $";
        numVar          = 4;
        tdvar[0]        = ["Australia", "Austria", "Belgium", "Canada", "Chile", "Czech Republic", "Denmark", "Estonia", "Finland", "France",
                           "Germany", "Greece", "Hungary", "Iceland", "Ireland", "Israel", "Italy", "Japan", "Korea", "Latvia", 
                           "Luxembourg", "Mexico", "Netherlands", "New Zealand", "Norway", "Poland", "Portugal", "Slovakia", "Slovenia", "Spain",
                           "Sweden", "Switzerland", "Turkey", "United Kingdom", "USA"];
        tdvar[1]        = [32914, 38089, 37109, 35348, 7079, 12691, 49201, 9925, 39133, 36612, 
                           35532, 22384, 10544, 54294, 43656, 21131, 31634, 36844, 18508, 7511,
                           67583, 7751 , 41711, 26034, 67496, 7781 , 18537, 11282, 18094, 26007,
                           43666, 59705, 7038, 41161, 44647];
        tdvar[2]        = [49537, 46892, 45552, 46378, 11925, 18221, 58562, 13875, 46791, 42900,
                           43322, 26254, 12386, 34944, 40447, 30884, 35599, 44323, 22170, 11475,
                           76667, 8947, 50698, 31586, 88551, 12019, 21757, 16507, 23159, 30291,
                           53581, 78711, 10021, 38821, 48797];
        tdvar[3]        = [54731, 43490, 40283, 42814, 13038, 16306, 53373, 16922, 42002, 38359,
                           42465, 17894, 11789, 49992, 43112, 36210, 30311, 33924, 27340, 13677,
                           70757, 8942, 44411, 37019, 78298, 11948, 18810, 15583, 20475, 25974,
                           51429, 81941, 9009, 43199, 56370];
        tdvarNumber     = [1, 2, 3, 4];
        tdvarName       = ["Country","2005","2010","2015"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];
        tdvalueLabel[2] = [];
        tdvalueLabel[3] = [];


        dataClassify();

       // 분리형 막대
        bar.selectAll("*").remove();
//        screen2.selectAll("*").remove();
        VerticalBar   = true;  rad[0].checked = true;
        HorizontalBar = false; rad[1].checked = false;

        buttonColorChange();
        SeparateBar =  true;
        document.getElementById("separate").style.backgroundColor = buttonColorH;
        if (ngroup == 1) currentDataSet = dataSet[0];
        currentLabel = dvalueLabel;
        drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);

        // 꺽은선 그래프
        chart.selectAll("*").remove();
        LineGraph = true;
        drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        LineGraph = false;     
        SideBar   = true; 
      })

      // data type : world trade  -------------------------------------------
      d3.select("#data05").on("click",function() {
        menuColorChange();
        document.getElementById("data05").style.backgroundColor = "#3e8e41"

        mainTitle       = "Top World Trade Country (2015)";
        yTitle          = "US billion $";
        numVar          = 3;
        tdvar[0]        = ["Arab Emirate", "Australia", "Austria", "Belgium", "Brazil", "Canada", "China", "Czech Republic", "France", "Germany", 
                           "Hong Kong", "India", "Indonesia", "Italy", "Japan", "Korea", "Malaysia", "Mexico", "Netherlands", "Poland", 
                           "Russia", "Saudi Arabia", "Singapore", "Spain", "Switzerland", "Thailand", "Turkey", "UK", "USA", "Viet Nam"];
        tdvar[1]        = [233, 189, 153, 399, 191, 408, 2281, 158, 506, 1329,  465, 266, 150, 459, 625, 
                           527, 200, 381, 567, 198, 343, 210, 352, 282, 290,   211, 144, 460, 1505, 165];
        tdvar[2]        = [264, 221, 155, 376, 189, 462, 1602, 141, 572, 1050, 523, 392, 143, 409, 648, 
                           436, 176, 435, 506, 194, 182, 173, 297, 312, 252, 202, 207, 626, 2242, 215];
        tdvarNumber     = [1, 2, 3];
        tdvarName       = ["Country","Export","Import"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];
        tdvalueLabel[2] = [];

        dataClassify();

        // 분리형 막대그래프
        bar.selectAll("*").remove();
        VerticalBar   = false; rad[0].checked = false;
        HorizontalBar = true;  rad[1].checked = true;
        buttonColorChange();
        SideBar     = true;
        document.getElementById("side").style.backgroundColor     = buttonColorH;
        drawSideBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);

        // 꺽은선 그래프
        chart.selectAll("*").remove();
        LineGraph = true;
        drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        LineGraph = false;     
        SeparateBar = true; 
      })

      // 비만인구
      d3.select("#data06").on("click",function() {
        menuColorChange();
        document.getElementById("data06").style.backgroundColor = "#3e8e41"

        mainTitle       = "Obesityt(BMI>30) Population (OECD 2014)";
        yTitle          = "%";
        numVar          = 2;
        tdvar[0]        = ["Australia", "Austria", "China", "Columbia", "Costarica", "Estonia", "France", "Greece", "Hungary", "India", 
                           "Indonesia", "Israel", "Italy", "Japan", "Korea", "Latvia", "Lituania", "Luxembourg", "Netherlands", "New Zealand", 
                           "Poland", "Portugal", "Slovenia", "South Aftrica", "Spain", "Sweden", "UK", "USA"];
        tdvar[1]        = [27.9, 14.3, 7.0, 20.9, 24.4, 19.5, 14.7, 16.9, 30.0, 5.0, 5.7, 17.8, 10.3, 3.9, 4.3,
                           25.7, 23.6, 22.6, 12.9, 29.9, 16.7, 16.4, 18.6, 26.5, 16.4, 12.2, 25.6, 38.2 ];
        tdvarNumber     = [1, 2];
        tdvarName       = ["Country","OverWeight%"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];
        tdvalueLabel[2] = [];

        dataClassify();

        // 분리형 막대
        bar.selectAll("*").remove();
        VerticalBar   = true;  rad[0].checked = true;
        HorizontalBar = false; rad[1].checked = false;

        buttonColorChange();
        SeparateBar =  true;
        document.getElementById("separate").style.backgroundColor = buttonColorH;
        if (ngroup == 1) currentDataSet = dataSet[0];
        currentLabel = dvalueLabel;
        drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);

        // 원그래프
        chart.selectAll("*").remove();
        DonutGraph = true;
 	drawPieChart(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet);  
        DonutGraph  = false;     
        SeparateBar = true;    
      })

      // 주요도시 기후
      d3.select("#data07").on("click",function() {
        menuColorChange();
        document.getElementById("data07").style.backgroundColor = "#3e8e41"

        mainTitle       = "Temperature of Major City (1990; Celsius Degree)";
        yTitle          = "Celsius Degree";
        numVar          = 3;
        tdvar[0]        = ["Seoul, Korea",　"Beijing, China",　"New Delhi, India",　"Jakarta, Indonesia",　"Jerusalem, Israel",　"Tokyo, Japan",
                         　"Riyadh, Saudi",　"Bangkok, Thailand",　"Ankara, Turkey",　"Mexico City, Mexico",　"Washington, USA",
                         　"Buenos Aires, Argentina",　"Brasilia, Brazil",　"Punta Angeles, Chile",　"Wien, Austria",　"Paris, France",
                         　"Berlin, Germany",　"Athens, Greece",　"Roma, Italy",　"Moskva, Russia",　"Madrid, Spain",　"Stockholm, Sweden",
                          　"Zurich, Swiss",　"London, UK",　"Cairo, Egypt",　"Canberra, Austraiia"];
        tdvar[1]        = [-3.3,　-4.3,　14.2,　26.3,　8.3,　5.2,　14.0,　26.1,　0.0,　13.2,　1.4,　11.1,　18.5,　11.6,　-0.7,
                            3.5,　-0.2,　10.3,　8.0,　-9.2,　6.1,　-3.0,　-0.4,　3.8,　13.9,　5.4];
        tdvar[2]        = [25.2,　25.9,　33.5,　27.7,　23.1,　27.1,　35.2,　30.5,　22.9,　18.6,　  26.3,　24.5,　21.7,　17.1,　19.8,
                           18.4,　18.8,　27.7,　23.8,　18.2,　24.4,　17.1,　17.7,　16.5,　28.0,　20.4];
        tdvarNumber     = [1, 2, 3];
        tdvarName       = ["City","Low T","High T"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];
        tdvalueLabel[2] = [];

        dataClassify();

        // 분리형 막대그래프
        bar.selectAll("*").remove();
        VerticalBar   = true;  rad[0].checked = true;
        HorizontalBar = false; rad[1].checked = false;

        buttonColorChange();
        SeparateBar =  true;
        document.getElementById("separate").style.backgroundColor = buttonColorH;

        if (ngroup == 1) currentDataSet = dataSet[0];
        currentLabel = dvalueLabel;
        drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);

        // 꺽은선 그래프
        chart.selectAll("*").remove();
        LineGraph = true;
        drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        LineGraph = false;     
        SeparateBar = true;    
      })

      // CO2 Emission
      d3.select("#data08").on("click",function() {
        menuColorChange();
        document.getElementById("data08").style.backgroundColor = "#3e8e41"

        mainTitle       = "Top CO2 Emission Countries (2013)";
        yTitle          = "million ton";
        numVar          = 2;
        tdvar[0]        = ["Australia", "Brazil", "Canada", "China", "France", "Germany", "India", "Indonesia", "Iran", "Italy",
                           "Japan", "Kazakhstan", "Korea", "Malaysia", "Mexico", "Poland", "Russia", "Saudi Arabia", "South Africa", "Spain",
                           "Taiwan", "Thailand", "Turkey", "Ukraine", "United Kingdom", "USA"];
        tdvar[1]        = [389, 452, 536, 8977, 316, 760, 1869, 425, 526, 338, 1235, 245, 572, 207, 452,
                           292, 1543, 472, 420, 236, 249, 247, 284, 265, 449, 5120];
        tdvarNumber     = [1,2];
        tdvarName       = ["Country", "CO2"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];

        dataClassify();

        // 분리형 막대그래프
        bar.selectAll("*").remove();
        VerticalBar   = true;  rad[0].checked = true;
        HorizontalBar = false; rad[1].checked = false;

        buttonColorChange();
        SeparateBar =  true;
        document.getElementById("separate").style.backgroundColor = buttonColorH;

        if (ngroup == 1) currentDataSet = dataSet[0];
        currentLabel = dvalueLabel;
        drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);


        // 도넛그래프
        chart.selectAll("*").remove();
        DonutGraph  = true;
        drawPieChart(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMax, dataSet) 
        DonutGraph = false;     
        SeparateBar =  true; 
      })


      // Alcohol Consumption
      d3.select("#data09").on("click",function() {
        menuColorChange();
        document.getElementById("data09").style.backgroundColor = "#3e8e41"

        mainTitle       = "Alcohol Consumption (OECD 2013)";
        yTitle          = "liters per capita";
        numVar          = 2;
        tdvar[0]        = ["Australia", "Canada", "Czech", "Denmark", "Estonia", "Finland", "France", "Germany", "Hungary", "Ireland",
                           "Japan", "Korea", "Luxembourg", "Mexico", "Netherlands", "New Zealand", "Norway", "Poland", "Slovakia", "Slovania",
                           "Sweden", "Switzerland", "Turkey", "UK", "USA"];
        tdvar[1]        = [9.7, 8.2, 11.5, 9.4, 11.8, 9.1, 11.1, 10.9, 10.6, 10.6, 7.4, 8.7, 11.0, 5.3, 8.7,
                           9.2, 6.2, 10.8, 9.9, 9.5, 7.3, 9.9, 1.4, 9.4, 8.9];
        tdvarNumber     = [1,2];
        tdvarName       = ["Country", "Alcohol"];
        tdvalueLabel[0] = [];
        tdvalueLabel[1] = [];

        dataClassify();

        // 분리형 막대그래프
        bar.selectAll("*").remove();
        VerticalBar   = true;  rad[0].checked = true;
        HorizontalBar = false; rad[1].checked = false;

        buttonColorChange();
        SeparateBar =  true;
        document.getElementById("separate").style.backgroundColor = buttonColorH;

        if (ngroup == 1) currentDataSet = dataSet[0];
        currentLabel = dvalueLabel;
        drawSeparateBarGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, 
            freqMax, currentLabel, currentDataSet, dataSet, checkFreq);

        // 꺽은선 그래프
        chart.selectAll("*").remove();
        LineGraph = true;
        drawLineGraph(ngroup, gvarNumber, gvarName, gvalueLabel, ndvalue, dvarNumber, dvarName, dvalueLabel, freqMin, freqMax, currentLabel, currentDataSet, dataSet);
        LineGraph = false;     
        SeparateBar = true;  
      })

      // 중등 통계 그래프 예제
      d3.select("#data10").on("click",function() {
        location.href="eStatM_en.htm";
      })


      // eStat 주메뉴
      d3.select("#data11").on("click",function() {
       location.href="eStat_en.htm";
      })

//   endof Data =================================================================

      // eStat 강의
      d3.select("#lectureE1").on("click",function() {
       window.open("movie/lectureE1.htm");
      })

    </script>
  </body>
</html>
