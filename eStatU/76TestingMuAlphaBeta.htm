<!DOCTYPE html>
<html>

<head>
    <title data-msgid="Testing Hypothesis mu_titleAB">Testing Hypothesis &mu;</title>
    <link rel="stylesheet" href="/estat/eStat/css/eStatU.css">
    <script src="/estat/eStat/lib/d3/d3.v4.min.js"></script>
    <script src="/estat/eStat/lib/jquery/jquery-3.2.1.min.js"></script>
    <script src="/estat/eStat/lib/jquery/jquery-ui.min.js"></script>
    <script src="/estat/eStat/lib/DistributionsUtil.js" ></script>
    <script src="/estat/eStat/js/language.js" ></script>
    <script src="/estat/eStat/js/eStatU.js"></script>
    <script src="/estat/eStat/lib/FileSaver.min.js" ></script>
    <script src="/estat/eStat/lib/convertSVG.js"></script>
</head>

<body>
  <div width="600" height="410" style="position:absolute; left:10px; top:0px">
    <br>
    <div class="title">
      <b>&nbsp; 
         <span data-msgid="Testing Hypothesis muAB">
           Testing Hypothesis : Population Mean &mu; 
         </span> 
      </b>
      <a class="menu" href="index.html"><b><span data-msgid="Menu">Menu</span></b></a>  
    </div>
    <br>

    <div> 
      <b>[<span data-msgid="Hypothesis">가설</span>]</b> 
      <span class="fontmath">&nbsp;&nbsp; H<sub>o</sub> : &mu; = &mu;<sub>o</sub> &nbsp;</span>
      <input type="text" class="textarea" size=6 id="mu0AB"> 
      <span class="fontmath">&nbsp;&nbsp; H<sub>1</sub> : &mu; = &mu;<sub>1</sub> &nbsp;</span>
      <input type="text" class="textarea" size=6 id="mu1AB">
      <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span data-msgid="PopulationStd">모표준편차 </span>  
      <span class="fontmath">&sigma; = </span>
      <input type="text" class="textarea" size=6 id="stdPAB"> 
    </div>
    <br>
    <form name="myForm"> 
      <input type="radio" name = "type" value="1" checked>&nbsp;<b>[&alpha; 
        <span data-msgid="Testing Hypothesis mu_titleAB">가설검정 모평균</span>] </b>    
      &nbsp;&nbsp;&rArr; <span class="fontmath"> C, &beta; </span>   
      <table class="stat">
      <tbody>
	<tr>
          <td></td>
	  <td><span data-msgid="Type1Error">1종오류</span></td>
	  <td><span class="fontmath">&alpha;</span></td>
	  <td>=</td>
	  <td><input type="text" class="textarea" value="0.050" size=3 id="alpha1AB"></td>
          <td></td>
	  <td><span data-msgid="Sample Size">Sample Size</span></td>
	  <td><span class="fontmath">n</span></td>
	  <td>=</td>
          <td><input type="text" class="textarea"  size=3 id="nn1AB"></td>
	</tr>
      </tbody>
      </table>
      <p></p>
 
      <input type="radio" name = "type" value="2" >&nbsp;<b>[&alpha; , &beta; 
        <span data-msgid="Testing Hypothesis mu_titleAB">가설검정 모평균</span>] </b>    
      &nbsp;&nbsp;&rArr; <span class="fontmath"> C, n</span>          
      <table class="stat">
      <tbody>
	<tr>
          <td></td>
	  <td><span data-msgid="Type1Error">1종오류</span></td>
	  <td><span class="fontmath">&alpha;</span></td>
	  <td>=</td>
	  <td><input type="text" class="textarea" value="0.050" size=3 id="alpha2AB"></td>
          <td></td>
	  <td><span data-msgid="Type2Error">2종오류</span></td>
	  <td><span class="fontmath">&beta;</span></td>
	  <td>=</td>
	  <td><input type="text" class="textarea" value="0.100"size=3 id="beta2AB"> </td>
	</tr>
      </tbody>
      </table>
      <p></p>
    </form>

    <div>
      <button type="button" id="executeTH" ><span data-msgid="Execute">Execute</span></button> 
      &nbsp; &nbsp;
      <span class="fontmath">&mu;<sub>1</sub> &nbsp; &nbsp;<sup><small> &mu;<sub>0</sub>-3&sigma; </small></sup></span>
      <input type="range" min="0" max="60" value="30" id="rangeMu1AB" onchange="showValueMu1AB(this.value)"/> 
      <span class="fontmath"><sup><small> &mu;<sub>0</sub>+3&sigma; </small></sup></span>
    <div>
    <br>
    <svg id="chart" width="600" height="400"> </svg> 
  
    <div id="sub1AB">
          &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;
	  <span class="fontmath">&alpha;</span>
          <sup><small> 0.01 </small></sup>
             <input type="range" min="1" max="50" value="5" id="rangeAlpha1AB" onchange="showValueAlpha1AB(this.value)"/> 
          <sup><small>0.50</small></sup>
          &nbsp; &nbsp;
 	  <span class="fontmath">n</span>
          <sup>&nbsp;&nbsp;<small> 1 </small></sup>
             <input type="range" min="1" max="100" value="100" id="rangenn1AB" onchange="showValuenn1AB(this.value)"/> 
          <sup><small>100</small></sup>
    </div>
    <div id="sub2AB">
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
	  <span class="fontmath">&alpha;</span>
          <sup><small> 0.01 </small></sup>
          <input type="range" min="1" max="50" value="5" id="rangeAlpha2AB" onchange="showValueAlpha2AB(this.value)"/> 
          <sup><small>0.50</small></sup>
          &nbsp; &nbsp;
	  <span class="fontmath">&beta;</span>
          <sup><small> 0.01 </small></sup>
          <input type="range" min="1" max="50" value="10" id="rangeBeta2AB" onchange="showValueBeta2AB(this.value)"/> 
          <sup><small>0.50</small></sup>
    </div>

    <br>
    <button type="button" id="saveGraphU" >
	<span class="tooltiptext" data-msgid="Graph Save">Graph Save</span>
    </button>

  </div> 

  <script>
      var bar = d3.select("#chart");
      var svgWidth, svgHeight, margin, graphWidth, graphHeight;
      var graphWidth2, graphHeight2;
      var svgWidth2   = 600;
      var svgHeight2  = 400;
      var title;
      var mu0, mu1, stdP, alpha1, alpha2, beta1, beta2, nn1, nn2;
      var h1Type, testType;

      // Test type
      var test = document.myForm.type;
      var testType = test.value;
      document.getElementById("sub1AB").style.display  = "block";
      document.getElementById("sub2AB").style.display  = "none";

      test[0].onclick = function() { // TH alpha
        testType = test.value; 
        document.getElementById("sub1AB").style.display  = "block";
        document.getElementById("sub2AB").style.display  = "none";
      }   
      test[1].onclick = function() { // TH alpha, beta
        testType = test.value; 
        document.getElementById("sub1AB").style.display  = "none";
        document.getElementById("sub2AB").style.display  = "block";
      }  

      // Testing Hypothesis ======================================
      d3.select("#executeTH").on("click",function() {
        inputValueAB();
        if (isNaN(mu0) || isNaN(mu1) || isNaN(stdP) ) return;
        if (testType == "1" && isNaN(nn1)) return;
        drawNormalGraphTHAB(testType, h1Type, mu0, mu1, stdP, nn1, nn2, alpha1, alpha2, beta1, beta2);
      });

      // svg Graph Save
      d3.select("#saveGraphU").on("click", function() {
        var svg = d3.select("#chart");
        var width = svgWidth2;
        var height = svgHeight2;
        var svgString = getSVGString(svg.node());
        svgString2Image(svgString, width, height, 'png', save);
        function save(dataBlob, filesize) {
          saveAs(dataBlob, 'eStatGraphU.png');
        }
      });
    
  </script>
</body>
</html>
